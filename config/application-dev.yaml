# =============================================================================
# DEV 環境配置 - 本地開發環境行為設定
# =============================================================================
# 用途: 本地開發環境
# 預設: spring.profiles.default=local,dev (自動啟用)
#
# 機敏值來源: config/application-secrets.properties
# 屬性名稱與 GCP Secret Manager 一致，便於管理:
#   - 本地: ${gate-xxx} 從 properties 檔案讀取
#   - GCP:  ${sm@gate-xxx} 從 Secret Manager 讀取
# =============================================================================

spring:
  config:
    # 載入本地機敏設定 (optional: 檔案不存在也不報錯)
    import: "optional:file:./config/application-secrets.properties"

# Anthropic API 配置 (keys 數量依環境而異)
anthropic:
  api:
    keys:
      - alias: "primary"
        # 預設值供 AOT 編譯使用，執行時由 secrets 覆蓋
        value: ${gate-anthropic-api-key-primary:placeholder-api-key-primary}
      - alias: "secondary"
        # 預設值供 AOT 編譯使用，執行時由 secrets 覆蓋
        value: ${gate-anthropic-api-key-secondary:placeholder-api-key-secondary}

# 可觀測性 - 全量取樣便於除錯
management:
  tracing:
    sampling:
      probability: 1.0
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus,env,configprops

# 日誌 - DEBUG 便於開發
logging:
  level:
    root: INFO
    io.github.samzhu.gate: DEBUG
    org.springframework.security: DEBUG
    org.springframework.cloud.gateway: DEBUG
